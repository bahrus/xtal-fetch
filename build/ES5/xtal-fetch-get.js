var fetch="fetch",href="href",disabled="disabled";export var XtalFetchGet=function(_HTMLElement){babelHelpers.inherits(XtalFetchGet,_HTMLElement);function XtalFetchGet(){var _this;babelHelpers.classCallCheck(this,XtalFetchGet);_this=babelHelpers.possibleConstructorReturn(this,(XtalFetchGet.__proto__||Object.getPrototypeOf(XtalFetchGet)).apply(this,arguments));_this._reqInit={credentials:"same-origin"};_this._as="json";return _this}babelHelpers.createClass(XtalFetchGet,[{key:"de",value:function de(name,detail){var newEvent=new CustomEvent(name+"-changed",{detail:detail,bubbles:!0,composed:!1});this.dispatchEvent(newEvent);return newEvent}},{key:"_upgradeProperties",value:function _upgradeProperties(props){var _this2=this;props.forEach(function(prop){if(_this2.hasOwnProperty(prop)){var value=_this2[prop];delete _this2[prop];_this2[prop]=value}})}},{key:"attributeChangedCallback",value:function attributeChangedCallback(name,oldVal,newVal){switch(name){case fetch:case disabled:this["_"+name]=null!==newVal;break;default:this["_"+name]=newVal;}this.onPropsChange()}},{key:"onPropsChange",value:function onPropsChange(){this.loadNewUrl()}},{key:"loadNewUrl",value:function loadNewUrl(){if(!this.fetch||!this.href||this.disabled)return;this.do()}},{key:"do",value:function _do(){var _this3=this;self.fetch(this.href,this._reqInit).then(function(resp){resp[_this3._as]().then(function(result){_this3.result=result})})}},{key:"connectedCallback",value:function connectedCallback(){this._upgradeProperties([fetch,href,disabled])}},{key:"fetch",get:function get(){return this._fetch},set:function set(val){if(val){this.setAttribute(fetch,"")}else{this.removeAttribute(fetch)}}},{key:"disabled",get:function get(){return this.hasAttribute(disabled)},set:function set(val){if(val){this.setAttribute(disabled,"")}else{this.removeAttribute(disabled)}}},{key:"href",get:function get(){return this._href},set:function set(val){this.setAttribute(href,val)}},{key:"result",get:function get(){return this._result},set:function set(val){this._result=val;this.de("result",{value:val})}}],[{key:"is",get:function get(){return"xtal-fetch-get"}},{key:"observedAttributes",get:function get(){return[fetch,href,disabled]}}]);return XtalFetchGet}(HTMLElement);if(!customElements.get(XtalFetchGet.is)){customElements.define(XtalFetchGet.is,XtalFetchGet)}