<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, minimum-scale=1, initial-scale=1, user-scalable=yes">

  <title>xtal-fetch demo</title>

  <script src="../node_modules/@webcomponents/webcomponentsjs/webcomponents-bundle.js"></script>
  <script type="text/javascript">
    if (/MSIE \d|Trident.*rv:/.test(navigator.userAgent)) {
      document.write('<script src="../IE11-polyfill.js"><\/script>');
    }

  </script>
  
  

</head>

<body>
  <div>
    
    <h3>Basic xtal-fetch demo</h3>

      <div>
        <link rel="preconnect" id="baseSampleJsonFolder" href="https://cdn.jsdelivr.net/npm/xtal-fetch/demo/">
        <litter-g></litter-g>
        <xtal-fetch disabled base-link-id="baseSampleJsonFolder" fetch href="generated.json" as="json"></xtal-fetch>
        <p-d on="fetch-complete" to="#peopleList{input:target.result};#peopleEntities{inEntities:target.result}" ></p-d>
        <ul id="peopleList" data-lit>
            <script nomodule>
                html`${input.map(i => html`<li>Name: ${i.name} <br>Email: ${i.email}</li>`)}`
            </script>
        </ul>
        
        <xtal-fetch disabled id="peopleEntities" as="json" base-link-id="baseSampleJsonFolder" fetch href="detail_:_id.json" for-each="_id" set-path="detail_contents"></xtal-fetch>
        <p-d on="fetch-complete" to="{input:target.result}"></p-d>
        <ul id="detail" data-lit>
            <script nomodule>
                html`${input.map(i => html`<li>DetailContents: ${i.detail_contents.message}</li>`)}`
            </script>
        </ul>
        <script type="module" src="https://cdn.jsdelivr.net/npm/p-d.p-u@0.0.69/p-d.p-u.js"></script>
        <script type="module" src="https://cdn.jsdelivr.net/npm/xtal-fetch@0.0.43/xtal-fetch.js"></script>
        <script type="module" src="https://cdn.jsdelivr.net/npm/litter-g@0.0.15/litter-g.iife.js"></script> 

      </div>
  </div>

  
</body>

</html>